<!DOCTYPE html>
<html>
<head>
    <title>Error Test</title>
</head>
<body>
    <h1>JavaScript Error Test</h1>
    <div id="errors"></div>
    <div id="console-log"></div>

    <script>
        // Capture all errors
        window.addEventListener('error', (e) => {
            const div = document.getElementById('errors');
            div.innerHTML += `<p style="color: red;">ERROR: ${e.message} at ${e.filename}:${e.lineno}</p>`;
            console.error('Caught error:', e);
        });

        // Override console.log to display on page
        const originalLog = console.log;
        console.log = function(...args) {
            originalLog.apply(console, args);
            const div = document.getElementById('console-log');
            div.innerHTML += `<p>${args.join(' ')}</p>`;
        };

        const originalError = console.error;
        console.error = function(...args) {
            originalError.apply(console, args);
            const div = document.getElementById('errors');
            div.innerHTML += `<p style="color: red;">CONSOLE ERROR: ${args.join(' ')}</p>`;
        };

        const originalWarn = console.warn;
        console.warn = function(...args) {
            originalWarn.apply(console, args);
            const div = document.getElementById('errors');
            div.innerHTML += `<p style="color: orange;">WARNING: ${args.join(' ')}</p>`;
        };
    </script>

    <!-- Load scripts in order -->
    <script src="js/constants.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/train-data.js"></script>
    <script src="js/moves.js"></script>
    <script src="js/train.js"></script>
    <script src="js/battle.js"></script>
    <script src="js/player.js"></script>
    <script src="js/map.js"></script>
    <script src="js/world-maps.js"></script>
    <script src="js/intro.js"></script>
    <script src="js/graphics.js"></script>
    <script src="js/input.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/game.js"></script>

    <script>
        console.log('All scripts loaded successfully!');
        console.log('TILE_TYPES:', typeof TILE_TYPES !== 'undefined' ? 'defined' : 'undefined');
        console.log('CONSTANTS:', typeof CONSTANTS !== 'undefined' ? 'defined' : 'undefined');
        console.log('Game:', typeof Game !== 'undefined' ? 'defined' : 'undefined');
    </script>
</body>
</html>
